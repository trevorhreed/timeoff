<!doctype html>
<html ng-app='myapp'>
	<head>
		<title>Home - TORS</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link href="static/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link href="static/libs/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />
		<script src="static/libs/jquery-1.11.1.min.js" type="text/javascript"></script>
		<script src="static/libs/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="static/libs/angular.min.js" type="text/javascript"></script>
		<script src="static/libs/ui-bootstrap-tpls-0.11.2.min.js" type="text/javascript"></script>
		<script src="static/libs/angular-route.min.js" type="text/javascript"></script>
		<link href="static/styles.css" rel="stylesheet" type="text/css" />
	</head>
	<body ng-controller='main'>
		<div class='wrapper container'>
			<a href='/logout' class='pull-right'>Logout</a>
			<div ng-include='template'></div>
		</div>
		<script th:inline="javascript">
			var app = angular.module('myapp', ['ngRoute','ui.bootstrap']);
			app.constant('user', [[${user}]]);
			app.controller('main', function($scope, user){
				if(user.roles.indexOf('super') != -1){
					$scope.template = '/static/html/super.html';
				}else{
					$scope.template = '/static/html/user.html';
				}
			});
			
		</script>
		<script src="static/js/userController.js"></script>
		<script src="static/js/superController.js"></script>
	</body>
</html>